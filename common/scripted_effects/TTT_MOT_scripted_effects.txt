MOT_open_gui_map_clr_country_flag = {
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map1
        }
        clr_country_flag = MOT_open_gui_map1
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map2
        }
        clr_country_flag = MOT_open_gui_map2
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map3
        }
        clr_country_flag = MOT_open_gui_map3
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map4
        }
        clr_country_flag = MOT_open_gui_map4
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map5
        }
        clr_country_flag = MOT_open_gui_map5
    }
}

#####################################################################
MOT_Political_clr_character_flag = {
    if = {
        limit = {
            has_country_flag = MOT_Political_character1_is_visible
        }
        clr_country_flag = MOT_Political_character1_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character2_is_visible
        }
        clr_country_flag = MOT_Political_character2_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character3_is_visible
        }
        clr_country_flag = MOT_Political_character3_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character4_is_visible
        }
        clr_country_flag = MOT_Political_character4_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character5_is_visible
        }
        clr_country_flag = MOT_Political_character5_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character6_is_visible
        }
        clr_country_flag = MOT_Political_character6_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character7_is_visible
        }
        clr_country_flag = MOT_Political_character7_is_visible
    }
    if = {
        limit = {
            has_country_flag = MOT_Political_character8_is_visible
        }
        clr_country_flag = MOT_Political_character8_is_visible
    }
}



############################################################
MOT_Political_character_is_visible = {
    if={
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 1}
            
        }
        set_country_flag = MOT_Political_character1_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 2}
        }
        set_country_flag = MOT_Political_character2_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 3}
           
        }
        set_country_flag = MOT_Political_character3_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 4}

        }
        set_country_flag = MOT_Political_character4_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 5}

        }
        set_country_flag = MOT_Political_character5_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 6}

        }
        set_country_flag = MOT_Political_character6_is_visible
    }
    if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 7}

        }
        set_country_flag = MOT_Political_character7_is_visible
    }
     if = {
        limit = {

                check_variable = {MOT_Political_character_map_array^map_num = 8}

        }
        set_country_flag = MOT_Political_character8_is_visible
    }

}
#####################################################################
MOT_Political_modifier_array_character_num = {
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map1
        }
        clear_variable = array_value
        add_to_variable = {array_value = MOT_Political_character_map_array^0}
        remove_from_array = {
            array = MOT_Political_character_map_array
            index = 0
        }
        add_to_array = {
            array = MOT_Political_character_map_array
            value = character_num
            index = 0
        }
        MOT_Political_check_character_num =yes
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map2
        }
        clear_variable = array_value
        add_to_variable = {array_value = MOT_Political_character_map_array^1}
        remove_from_array = {
            array = MOT_Political_character_map_array
            index = 1
        }
        add_to_array = {
            array = MOT_Political_character_map_array
            value = character_num
            index = 1
        }
        MOT_Political_check_character_num =yes
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map3
        }
        clear_variable = array_value
        add_to_variable = {array_value = MOT_Political_character_map_array^2}
        remove_from_array = {
            array = MOT_Political_character_map_array
            index = 2
        }

        add_to_array = {
            array = MOT_Political_character_map_array
            value = character_num
            index = 2
        }
        MOT_Political_check_character_num =yes
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map4
        }
        clear_variable = array_value
        add_to_variable = {array_value = MOT_Political_character_map_array^3}
        remove_from_array = {
            array = MOT_Political_character_map_array
            index = 3
        }
        add_to_array = {
            array = MOT_Political_character_map_array
            value = character_num
            index = 3
        }
        MOT_Political_check_character_num =yes
    }
    if = {
        limit = {
            has_country_flag = MOT_open_gui_map5
        }
        clear_variable = array_value
        add_to_variable = {array_value = MOT_Political_character_map_array^4}
        remove_from_array = {
            array = MOT_Political_character_map_array
            index = 4
        }
        add_to_array = {
            array = MOT_Political_character_map_array
            value = character_num
            index = 4
        }
        MOT_Political_check_character_num =yes
    }
}
################################################################
MOT_Political_check_character_num = {
    if = {
        limit = {
            check_variable = {array_value = 1}
        }
        clr_country_flag = MOT_Political_character1_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 2}
        }
        clr_country_flag = MOT_Political_character2_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 3}
        }
        clr_country_flag = MOT_Political_character3_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 4}
        }
        clr_country_flag = MOT_Political_character4_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 5}
        }
        clr_country_flag = MOT_Political_character5_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 6}
        }
        clr_country_flag = MOT_Political_character6_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 7}
        }
        clr_country_flag = MOT_Political_character7_is_locking
    }
    if = {
        limit = {
            check_variable = {array_value = 8}
        }
        clr_country_flag = MOT_Political_character8_is_locking
    }
}
#############################################################
##刷新难民情绪
MOT_flush_Refugee_mood = {
    remove_from_array = {
        array = MOT_Political_grid_array
        index = 0
    }
    add_to_array = {
        array = MOT_Political_grid_array
        value = MOT_Refugee_mood_num
        index = 0
    }
}
###清除已无效的任务
MOT_Clear_invalid_mission = {
    set_temp_variable = { MOT_n = 0 }
    while_loop_effect = {
        limit = {
            not = {
                check_variable = {
                    var = MOT_Political_grid_array^MOT_n
                    value = MOT_m
                    compare =equals
                }
            }
            check_variable = {
                var = MOT_n
                value= 5
                compare = less_than_or_equals
            }
        }
        add_to_temp_variable = { MOT_n = 1 }
    }
    remove_from_array = {
        array = MOT_Political_grid_array
        index = MOT_n
    }
    clear_variable = MOT_n
}

#########################################################
##MOT_Progress
Clear_Deadline_num_1 = {
    if = {
        limit = {
            check_variable = {
                var = MOT_Deadline_num_1
				value = 11
				compare = greater_than_or_equals
            }
        }
        clear_variable = MOT_Deadline_num_1
        add_to_variable = {MOT_Deadline_num_1 =1}
    }
    
    if = {
        limit = {
            check_variable = {
                var = MOT_Deadline_num_1
				value = 0
				compare = less_than_or_equals
            }
        }
        clear_variable = MOT_Deadline_num_1
        add_to_variable = {MOT_Deadline_num_1 = 1}
    }
    
}
Clear_Deadline_num_2 = {
    if = {
        limit = {
            check_variable = {
                var = MOT_Deadline_num_2
				value = 6
				compare = greater_than_or_equals
            }
        }
        clear_variable = MOT_Deadline_num_2
        add_to_variable = {MOT_Deadline_num_2 =-4}
    }
    if = {
        limit = {
            check_variable = {
                var = MOT_Deadline_num_2
				value = -5
				compare = less_than_or_equals
            }
        }
        clear_variable = MOT_Deadline_num_2
        add_to_variable = {MOT_Deadline_num_2 = -4}
    }
}
Clear_Progress_num = {
    if = {
        limit = {
            check_variable = {
                var = MOT_Progress_num
				value = 12
				compare = greater_than_or_equals
            }
        }
        clear_variable = MOT_Progress_num
        add_to_variable = {MOT_Progress_num = 1}
    }
    if = {
        limit = {
            check_variable = {
                var = MOT_Progress_num
				value = 0
				compare = less_than_or_equals
            }
        }
        clear_variable = MOT_Progress_num
        add_to_variable = {MOT_Progress_num = 1}
    }
}

###根据国家放置国旗
MOT_Standpoint_config_country_num = {
    if = {
        limit={
            tag = TWL
        }
        set_variable ={MOT_Standpoint_country_num = 1}
    }
    if = {
        limit={
            tag = BLL
        }
        set_variable ={MOT_Standpoint_country_num = 2}
    }
    if = {
        limit={
            tag = MOT
        }
        set_variable ={MOT_Standpoint_country_num = 3}
    }
    if = {
        limit={
            tag = QQZ
        }
        set_variable ={MOT_Standpoint_country_num = 4}
    }
    if = {
        limit={
            tag = DLK
        }
        set_variable ={MOT_Standpoint_country_num = 5}
    }
    if = {
        limit={
            tag = DLS
        }
        set_variable ={MOT_Standpoint_country_num = 6}
    }
    if = {
        limit={
            tag = MDQ
        }
        set_variable ={MOT_Standpoint_country_num = 7}
    }
    if = {
        limit={
            tag = FXE
        }
        set_variable ={MOT_Standpoint_country_num = 8}
    }
    if = {
        limit={
            tag = ALS
        }
        set_variable ={MOT_Standpoint_country_num = 9}
    }
}
###取消温和立场
MOT_Standpoint_clear_flag_01 = {
    set_temp_variable = { MOT_n = 0 }
    while_loop_effect = {
        limit = {
            not = {
                check_variable = {
                    var = global.MOT_Standpoint_flag_array_01^MOT_n
                    value = MOT_Standpoint_country_num
                    compare =equals
                }
            }
            check_variable = {
                var = MOT_n
                value= 10
                compare = less_than_or_equals
            }
        }
        add_to_temp_variable = { MOT_n = 1 }
    }
    remove_from_array = {
        array = global.MOT_Standpoint_flag_array_01
        index = MOT_n
    }
    clear_variable = MOT_n
}
###取消中立立场
MOT_Standpoint_clear_flag_02 = {
    set_temp_variable = { MOT_n = 0 }
    while_loop_effect = {
        limit = {
            not = {
                check_variable = {
                    var = global.MOT_Standpoint_flag_array_02^MOT_n
                    value = MOT_Standpoint_country_num
                    compare =equals
                }
            }
            check_variable = {
                var = MOT_n
                value= 10
                compare = less_than_or_equals
            }
        }
        add_to_temp_variable = { MOT_n = 1 }
    }
    remove_from_array = {
        array = global.MOT_Standpoint_flag_array_02
        index = MOT_n
    }
    clear_variable = MOT_n
}
###取消激进立场
MOT_Standpoint_clear_flag_03 = {
    set_temp_variable = { MOT_n = 0 }
    while_loop_effect = {
        limit = {
            not = {
                check_variable = {
                    var = global.MOT_Standpoint_flag_array_03^MOT_n
                    value = MOT_Standpoint_country_num
                    compare =equals
                }
            }
            check_variable = {
                var = MOT_n
                value= 10
                compare = less_than_or_equals
            }
        }
        add_to_temp_variable = { MOT_n = 1 }
    }
    remove_from_array = {
        array = global.MOT_Standpoint_flag_array_03
        index = MOT_n
    }
    clear_variable = MOT_n
}
###选择温和立场
MOT_Standpoint_config_flag_01 = {
    add_to_array = {
        array = global.MOT_Standpoint_flag_array_01
        value = MOT_Standpoint_country_num
    }
}
#######选择中立立场
MOT_Standpoint_config_flag_02 = {
    add_to_array = {
        array = global.MOT_Standpoint_flag_array_02
        value = MOT_Standpoint_country_num
    }
}
#######选择激进立场
MOT_Standpoint_config_flag_03 = {
    add_to_array = {
        array = global.MOT_Standpoint_flag_array_03
        value = MOT_Standpoint_country_num
    }
}
###################################################################
###检查温和立场的国家数量
MOT_Standpoint_check_total_country_num_01 = {
    clear_variable = MOT_Standpoint_total_country_num_01
    while_loop_effect = {
        limit = {
            check_variable = {
                var = global.MOT_Standpoint_flag_array_01^MOT_Standpoint_total_country_num_01
                value = 0
                compare = greater_than
            }
        }
        if = {
            limit = {
                MOT = {
                    has_country_flag = Lock_MOT_Standpoint_decision_1
                }
            }
            add_to_variable ={MOT_Standpoint_total_country_num_01 = 0.5}
        }
        else = {
            add_to_variable ={MOT_Standpoint_total_country_num_01 = 0.25}
        }
    }
}
###检查中立立场国家数量
MOT_Standpoint_check_total_country_num_02 = {
    clear_variable = MOT_Standpoint_total_country_num_02
    while_loop_effect = {
        limit = {
            check_variable = {
                var = global.MOT_Standpoint_flag_array_02^MOT_Standpoint_total_country_num_02
                value = 0
                compare = greater_than
            }
        }
        if = {
            limit = {
                MOT = {
                    has_country_flag = Lock_MOT_Standpoint_decision_2
                }
            }
            add_to_variable ={MOT_Standpoint_total_country_num_02 = 0.5}
        }
        else = {
            add_to_variable ={MOT_Standpoint_total_country_num_02 = 0.25}
        }
    }
}
##检查激进立场国家数量
MOT_Standpoint_check_total_country_num_03 = {
    clear_variable = MOT_Standpoint_total_country_num_03
    while_loop_effect = {
        limit = {
            check_variable = {
                var = global.MOT_Standpoint_flag_array_03^MOT_Standpoint_total_country_num_03
                value = 0
                compare = greater_than
            }
        }
        if = {
            limit = {
                MOT = {
                    has_country_flag = Lock_MOT_Standpoint_decision_3
                }
            }
            add_to_variable ={MOT_Standpoint_total_country_num_03 = 0.5}
        }
        else = {
            add_to_variable ={MOT_Standpoint_total_country_num_03 = 0.25}
        }
    }
}